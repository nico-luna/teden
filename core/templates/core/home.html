{% include "partials/header.html" %}
{% include "partials/login_modal.html" %}
{% include "partials/register_modal.html" %}
{% include "partials/cart_modal.html" %}
{% load static %}
<!-- Hero / Carousel -->
 <p>esta es la home</p>
  <div id="mainCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
          <img src="{% static 'banners/banner1.webp' %}" class="d-block w-100" alt="Promo 1">
        <!-- <div class="carousel-caption d-none d-md-block">
          <h5>Hot Sale</h5>
          <p>Hasta 45% OFF y 18 cuotas sin interés</p>
        </div> -->
      </div>
      <div class="carousel-item">
          <img src="{% static 'banners/banner2.webp' %}" class="d-block w-100" alt="Promo 2">
        <!-- <div class="carousel-caption d-none d-md-block">
          <h5>Promos Exclusivas</h5>
          <p>Solo por tiempo limitado</p>
        </div> -->
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>

  <!-- Categories -->
  <section class="container py-4">
    <div class="row text-center category-icons">
      <div class="col">
        <img src="{% static 'icons/facebook.png' %}" alt="">
        <p>Ofertas</p>
      </div>
      <div class="col">
        <img src="{% static 'icons/facebook.png' %}" alt="">
        <p>Cuotas sin interés</p>
      </div>
      <div class="col">
        <img src="{% static 'icons/facebook.png' %}" alt="">
        <p>Envíos gratis</p>
      </div>
      <div class="col">
        <img src="{% static 'icons/facebook.png' %}" alt="">
        <p>Super descuentos</p>
      </div>
    </div>
  </section>


  <!-- Productos destacados -->
   <section class="container my-5">
  <div class="row g-4">
    {% comment %} Reemplazar imágenes y textos luego {% endcomment %}
    <div class="col-6 col-md-3 col-lg-2">
      <div class="category-box text-center">
        <img src="{% static 'banners/categorias/celulares.png' %}" alt="Celulares" class="img-fluid mb-2">
        <h6 class="fw-bold">Celulares</h6>
        <div class="discount">Hasta 35% OFF</div>
        <div class="cuotas">12 cuotas sin interés</div>
      </div>
    </div>

    <div class="col-6 col-md-3 col-lg-2">
      <div class="category-box text-center">
        <img src="{% static 'banners/categorias/televisores.png' %}" alt="Televisores" class="img-fluid mb-2">
        <h6 class="fw-bold">Televisores</h6>
        <div class="discount">Hasta 35% OFF</div>
        <div class="cuotas">18 cuotas sin interés</div>
      </div>
    </div>

    <!-- Agregá más categorías igual... -->
  </div>
</section>
  <!-- Publicidad vertical -->
  <div class="position-fixed end-0 top-0 bg-dark text-white text-center py-2 px-3" style="writing-mode: vertical-rl; height: 100vh; z-index: 1050;">
    Publicidad
  </div>


{% block content %}
<div class="container py-4">
  <h2 class="mb-4">Catálogo de Productos</h2>
  <div class="row g-4">
    {% for producto in productos %}
      <div class="col-12 col-sm-6 col-md-4 col-lg-3">
        <div class="card h-100 shadow-sm">
          {% if producto.image %}
            <img src="{{ producto.image.url }}"
                 class="card-img-top"
                 style="height:200px; object-fit:cover;"
                 alt="{{ producto.name }}">
          {% else %}
            <div class="bg-light d-flex align-items-center justify-content-center" style="height:200px;">
              Sin imagen
            </div>
          {% endif %}
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ producto.name }}</h5>
            <p class="card-text text-truncate" style="max-height:3.5em; overflow:hidden;">
              {{ producto.description }}
            </p>
            <div class="mt-auto">
              <p class="h5 text-success mb-3">${{ producto.price }}</p>
              <form method="post" action="{% url 'add_to_cart' producto.id %}">
                {% csrf_token %}
                <button type="submit"
                        class="btn btn-success w-100">
                  <i class="fas fa-shopping-cart me-1"></i>  
                  Agregar al carrito
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</div>
{% endblock %}

