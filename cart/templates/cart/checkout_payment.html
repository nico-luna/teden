{% load static %}
{% include "partials/header.html" %}
{% include "partials/login_modal.html" %}
{% include "partials/register_modal.html" %}
{% include "partials/cart_modal.html" %}

{% block content %}
<div class="container py-5">
  <h2 class="mb-4">üí∏ Eleg√≠ c√≥mo quer√©s pagar</h2>

  <div class="row">
    <!-- üßæ Detalles de facturaci√≥n -->
    <div class="col-md-6">
      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <h5 class="card-title mb-3">üßç‚Äç‚ôÇÔ∏è Tus datos de facturaci√≥n</h5>
          <ul class="list-group list-group-flush">
            <li class="list-group-item"><strong>Nombre:</strong> {{ billing.full_name }}</li>
            <li class="list-group-item"><strong>Email:</strong> {{ billing.email }}</li>
            <li class="list-group-item"><strong>DNI:</strong> {{ billing.dni }}</li>
            <li class="list-group-item"><strong>Direcci√≥n:</strong> {{ billing.address }}</li>
            <li class="list-group-item"><strong>Provincia:</strong> {{ billing.province }}</li>
            <li class="list-group-item"><strong>Pa√≠s:</strong> {{ billing.country }}</li>
            <li class="list-group-item"><strong>Tel√©fono:</strong> {{ billing.phone }}</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- üí≥ Opciones de pago -->
    <div class="col-md-6">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title mb-4">üí∞ Total a pagar: <span class="text-success">${{ cart.total_price }}</span></h5>
          {% if mercado_pago_checkout_url %}
            <a href="{{ mercado_pago_checkout_url }}" class="btn btn-outline-success w-100 mt-2">Pagar</a>
          {% else %}
            <button type="button" class="btn btn-outline-secondary w-100 mt-2" disabled>No disponible: el vendedor no tiene MercadoPago vinculado</button>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}